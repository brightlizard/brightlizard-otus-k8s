
Все запросы присутствуют в постман коллекции

1. Посмотреть на баланс аккаунта покупателя http://arch.homework/customer/account
    Должно быть "balance": 526000.0

2. Посмотреть сколько стоят товары из заказа http://arch.homework/storage

3. Запустить POST http://arch.homework/order как он есть в коллекции.
    Должен обработаться заказ и произойти перенаправление на страницу с результатами заказов.
    Параметры заказа указываются в теле запроса. Там есть, customer, товары для заказа и желаемое время доставки.
     *вместо customer поле называется consumer...
    В заколовках есть ключ идемпотентности X-Request-Id


4. Посмотреть на ответ. Возможны два варианта.
    Если Сага отработала быстрее чем произошел редирект на старницу с результатами, то там будут полные результаты
    Если редирект произошел быстрее чем отработала Сага, то там будут промежуточные результаты.
    В случае промежуточных результатов так как запрос на создание заказа идемпотентен,
    то можно просто отправить заказ заново и результаты обновяться.
    Так же есть отдельный ресурс для просмотра результатов - http://arch.homework/order/results

    Для первого заказа рузультирующими статусами должны быть:
    "status": "DELIVERY_SUCCESS",
    "commStatus": "SEND_REQ_TO_DELIVERY_SUCCESS",

    Убедиться что деньги списались:
    "balance": 525485.0

5. В запросе по умолчанию указано желаемое время доставки "deliveryTime": "2022-08-17T15:00:00"
    Теперь, если изменить X-Request-Id в заголовках и совершить новый заказ Сага должна завершиться неудачно,
    то есть сначала будут зарезервированы товары, произойдет оплата, но на этапе планирования доставки
    указанное время будет уже занято и произойдет откат оплаты и резервирования товаров.

    О чем должны свидетельствовать следующие статусы:
    "status": "STORAGE_RESERVE_ROLLBACK", - тут будет именно откат резервирования потому что он происходит после отката платежа
    "commStatus": "SEND_REQ_TO_STORAGE_ROLLBACK_SUCCESS",

    Убедиться что деньги не списаны:
    "balance": 525485.0

    И кол-во товара не изменилось http://arch.homework/storage

6. Если изменить время заказа, то заказ должен пройти
    По умолчанию там захардкожено что занято 2022-08-17T12:00:00 +1H и 2022-08-17T18:00:00 +1H
